{"mode":"editor","version":1,"windowDimensions":{"x":0,"y":22,"width":1440,"height":874},"syntax":{"deserializer":"Syntax","grammarOverridesByPath":{}},"project":{"path":"/Users/zeke/Desktop/react/examples","buffers":[{"text":"# React server rendering example\n\nThis example demonstrates how React's server rendering works. Rather than demonstrate a pure-Node solution, this example shows how an app not written in JavaScript (in this case, PHP) can utilize React's server rendering capabilities.\n\n## Overview\n\nYou generally start a React app by doing something like this:\n\n```javascript\nReact.renderComponent(MyComponent({someData: ...}), document.getElementById('someContainer'));\n```\n\nThe problem is that `someContainer` will be an empty HTML element until the JavaScript downloads and executes. This is bad for page load performance (since the user can't see anything until the JS downloads and executes) and is bad for SEO (since the Googlebot can't see any content). React's server rendering solves this problem -- it lets you fill `someContainer` with *static HTML* on the server and \"bring it to life\" on the client *without* throwing out and re-creating the HTML.\n\nIn order to do this, you need to do a few things. You need to be able to run JavaScript on the server, and you need to be able to bundle that JavaScript code and send it down to the browser. This example provides one architecture, but there are many ways to do it.\n\n## Architecture overview\n\nLet's augment an existing PHP app to support server rendering. This architecture runs an Express-based Node web service to run the JavaScript server side. PHP simply uses `file_get_contents()` to send an HTTP request to this service to get the static HTML string.\n\nBrowserify is used to run the same code that Node.js is running inside of the browser (aka \"isomorphic\" JavaScript).\n\n```\n+-------------+       +------------------+                                              +----------------------+\n|             |       |                  |  ---- HTTP request (module, props JSON) ---> |                      |\n| The browser | <---> | Existing PHP App |                                              | Node.js react server |\n|             |       |                  |  <--- HTTP response (static HTML string) --- |                      |\n+------+------+       +------------------+                                              +----------------------+\n       ^                                                                                            ^\n       |                                                                                            |\n       |              +------------------+                                              +-----------+----------+\n       |              |                  |                                              |                      |\n       +--------------+    Browserify    | <--------------------------------------------+  App code (CommonJS) |\n                      |                  |                                              |                      |\n                      +------------------+                                              +----------------------+\n```\n\n## How to run the demo\n\n  * `npm install` from `jsapp/` and `reactserver/`.\n  * Run `browserify` by doing `npm run build` inside `jsapp/`. This will generate a `webapp/static/bundle.js` file.\n  * Run the node server by doing `npm start` inside `reactserver/`.\n  * Finally, open `index.php` in your browser (on a webserver running PHP, of course). View-source to see the rendered markup.\n  * Kill the `reactserver` and reload `index.php`. You'll notice that the app still works! View-source and you'll see no rendered markup. React is smart enough to recover if server rendering doesn't work.","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":23},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/zeke/Desktop/react/examples/server-rendering/README.md","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"03474c2f969c7c402d9b17bf9000790a721cbfae","deserializer":"TextBuffer"},{"text":"<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv='Content-type' content='text/html; charset=utf-8'>\n    <title>Basic Example</title>\n    <link rel=\"stylesheet\" href=\"../shared/css/base.css\" />\n  </head>\n  <body>\n    <h1>Basic Example</h1>\n    <div id=\"container\">\n      <p>\n        To install React, follow the instructions on\n        <a href=\"http://www.github.com/facebook/react/\">GitHub</a>.\n      </p>\n      <p>\n        If you can see this, React is not working right.\n        If you checked out the source from GitHub make sure to run <code>grunt</code>.\n      </p>\n    </div>\n    <h4>Example Details</h4>\n    <p>This is written in vanilla JavaScript (without JSX) and transformed in the browser.<p>\n    <p>\n      Learn more about React at\n      <a href=\"http://facebook.github.io/react\" target=\"_blank\">facebook.github.io/react</a>.\n    </p>\n    <script src=\"../shared/thirdparty/es5-shim.min.js\"></script>\n    <script src=\"../shared/thirdparty/es5-sham.min.js\"></script>\n    <script src=\"../shared/thirdparty/console-polyfill.js\"></script>\n    <script src=\"../../build/react.js\"></script>\n    <script>\n      var ExampleApplication = React.createClass({\n        render: function() {\n          var elapsed = Math.round(this.props.elapsed  / 100);\n          var seconds = elapsed / 10 + (elapsed % 10 ? '' : '.0' );\n          var message =\n            'React has been successfully running for ' + seconds + ' seconds.';\n\n          return React.DOM.p(null, message);\n        }\n      });\n      var start = new Date().getTime();\n      setInterval(function() {\n        React.renderComponent(\n          ExampleApplication({elapsed: new Date().getTime() - start}),\n          document.getElementById('container')\n        );\n      }, 50);\n    </script>\n  </body>\n</html>\n","markers":{"markers":{"1":{"id":1,"range":[[19,10],[19,10]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":27,"goalBufferRange":null},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/zeke/Desktop/react/examples/basic/index.html","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"39e23e424ff37edfcd8ca070f3f3d17b5cec0b0e","deserializer":"TextBuffer"},{"text":"<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv='Content-type' content='text/html; charset=utf-8'>\n    <title>Basic Example with JSX</title>\n    <link rel=\"stylesheet\" href=\"../shared/css/base.css\" />\n  </head>\n  <body>\n    <h1>Basic Example with JSX</h1>\n    <div id=\"container\">\n      <p>\n        To install React, follow the instructions on\n        <a href=\"http://www.github.com/facebook/react/\">GitHub</a>.\n      </p>\n      <p>\n        If you can see this, React is not working right.\n        If you checked out the source from GitHub make sure to run <code>grunt</code>.\n      </p>\n    </div>\n    <h4>Example Details</h4>\n    <p>This is written with JSX and transformed in the browser.<p>\n    <p>\n      Learn more about React at\n      <a href=\"http://facebook.github.io/react\" target=\"_blank\">facebook.github.io/react</a>.\n    </p>\n    <script src=\"../shared/thirdparty/es5-shim.min.js\"></script>\n    <script src=\"../shared/thirdparty/es5-sham.min.js\"></script>\n    <script src=\"../shared/thirdparty/console-polyfill.js\"></script>\n    <script src=\"../../build/react.js\"></script>\n    <script src=\"../../build/JSXTransformer.js\"></script>\n    <script type=\"text/jsx\">\n      /**\n       * @jsx React.DOM\n       */\n      var ExampleApplication = React.createClass({\n        render: function() {\n          var elapsed = Math.round(this.props.elapsed  / 100);\n          var seconds = elapsed / 10 + (elapsed % 10 ? '' : '.0' );\n          var message =\n            'React has been successfully running for ' + seconds + ' seconds.';\n\n          return <p>{message}</p>;\n        }\n      });\n      var start = new Date().getTime();\n      setInterval(function() {\n        React.renderComponent(\n          <ExampleApplication elapsed={new Date().getTime() - start} />,\n          document.getElementById('container')\n        );\n      }, 50);\n    </script>\n  </body>\n</html>\n","markers":{"markers":{"1":{"id":1,"range":[[30,0],[51,13]],"tailed":true,"reversed":true,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":31,"goalBufferRange":null},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/zeke/Desktop/react/examples/basic-jsx/index.html","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"46f738d86b5daee50e67f251c07da4f5de4439c2","deserializer":"TextBuffer"}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"items":[{"id":23,"softTabs":true,"displayBuffer":{"id":24,"softWrap":true,"editorWidthInChars":117,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/zeke/Desktop/react/examples/server-rendering/README.md","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":27,"softTabs":true,"displayBuffer":{"id":28,"softWrap":true,"editorWidthInChars":117,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/zeke/Desktop/react/examples/basic/index.html","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":31,"softTabs":true,"displayBuffer":{"id":32,"softWrap":true,"editorWidthInChars":117,"scrollTop":310,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/zeke/Desktop/react/examples/basic-jsx/index.html","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"}],"activeItemUri":"/Users/zeke/Desktop/react/examples/basic-jsx/index.html","focused":false,"active":true,"deserializer":"Pane"},"deserializer":"PaneContainer"},"fullScreen":false,"packagesWithActiveGrammars":["language-gfm","language-javascript","language-html"],"deserializer":"Workspace"},"packageStates":{"script":{"scriptOptionsViewState":""},"fuzzy-finder":{"/Users/zeke/Desktop/react/examples/server-rendering/README.md":1404878174496,"/Users/zeke/Desktop/react/examples/basic/index.html":1404878196787,"/Users/zeke/Desktop/react/examples/basic-jsx/index.html":1404878198832},"keybinding-resolver":{"attached":false},"metrics":{"sessionLength":5472908},"tree-view":{"directoryExpansionStates":{"basic":{}},"selectedPath":"/Users/zeke/Desktop/react/examples/basic-jsx","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}}}