{"mode":"editor","version":1,"windowDimensions":{"x":0,"y":22,"width":1440,"height":874},"syntax":{"deserializer":"Syntax","grammarOverridesByPath":{}},"project":{"path":"/Users/zeke/code/hero/build-and-packaging-team/products/app.json","buffers":[{"text":"# Usage\n\nSee [nyata's README](https://github.com/heroku/nyata/blob/master/README.md#usage) for more info.\n\n### Concoct Function\n\nThe `concoct` function depends on [jq](http://stedolan.github.io/jq/) to extract\nproperties from JSON objects.\n\n```sh\nbrew install jq\n```\n\n```sh\nconcoct() {\n  host=\"https://nyata.herokuapp.com\"\n  tarball_url=\"https://codeload.github.com/${1}/legacy.tar.gz/master\"\n  token=$(heroku auth:token)\n\n  echo \"\\nConcocting...\"\n  echo $tarball_url\n\n  api_response=$(curl \\\n    -u :$token \\\n    -X POST \\\n    --silent \\\n    -H 'Content-Type: application/json' \\\n    -d \"{ \\\"source_blob\\\": { \\\"url\\\": \\\"$tarball_url\\\" } }\" \\\n    $host/app-setups)\n\n  echo \"\\nAPI Response\"\n  echo $api_response\n\n  echo \"\\nBuild ID\"\n  build_id=$(echo $api_response | jq -r .id)\n  echo $build_id\n\n  echo \"\\nBuild Status URL\"\n  status_url=\"$host/app-setups/$build_id\"\n  echo $status_url\n\n  # status is a reserved word in bash\n  state=\"pending\"\n  while [ $state == \"pending\" ]; do\n    status_response=$(curl \\\n      -u :$token \\\n      --silent \\\n      -H 'Content-Type: application/json' \\\n      $status_url)\n    state=$(echo $status_response | jq -r .status)\n    echo \"\\nStatus\"\n    echo $status_response\n    sleep 1\n  done\n\n}\n```\n\n### Usage\n\nThe\n[zeke/harp-slideshow-template](https://github.com/zeke/harp-slideshow-template)\ngithub repo contains an\n[app.json](https://github.com/zeke/harp-slideshow-template/blob/master/app.json).\n\n```sh\nconcoct zeke/harp-slideshow-template\n```\n\n### Sample Output\n\n```\nConcocting...\nhttps://codeload.github.com/zeke/harp-slideshow-template/legacy.tar.gz/master\n\nAPI Response\n{\"id\":\"c415d72b-4de0-4d3c-bd58-eb6c3e50ef60\",\"status\":\"pending\",\"app\":{\"id\":\"0b1c7e99-34fd-4a0f-8d5c-d2012f121e10\",\"name\":\"guarded-temple-4677\"},\"build\":{\"id\":null,\"status\":null}}\n\nBuild ID\nc415d72b-4de0-4d3c-bd58-eb6c3e50ef60\n\nBuild Status URL\nhttps://nyata.herokuapp.com/builds/c415d72b-4de0-4d3c-bd58-eb6c3e50ef60\n\nStatus\n{\"id\":\"c415d72b-4de0-4d3c-bd58-eb6c3e50ef60\",\"status\":\"pending\",\"app\":{\"id\":\"0b1c7e99-34fd-4a0f-8d5c-d2012f121e10\",\"name\":\"guarded-temple-4677\"},\"build\":{\"id\":null,\"status\":null}}\n\nStatus\n{\"id\":\"c415d72b-4de0-4d3c-bd58-eb6c3e50ef60\",\"status\":\"pending\",\"app\":{\"id\":\"0b1c7e99-34fd-4a0f-8d5c-d2012f121e10\",\"name\":\"guarded-temple-4677\"},\"build\":{\"id\":\"7bc35179-ff6e-4c55-a93f-edeb6079911f\",\"status\":\"pending\"}}\n\nStatus\n{\"id\":\"c415d72b-4de0-4d3c-bd58-eb6c3e50ef60\",\"status\":\"pending\",\"app\":{\"id\":\"0b1c7e99-34fd-4a0f-8d5c-d2012f121e10\",\"name\":\"guarded-temple-4677\"},\"build\":{\"id\":\"7bc35179-ff6e-4c55-a93f-edeb6079911f\",\"status\":\"pending\"}}\n\nStatus\n{\"id\":\"c415d72b-4de0-4d3c-bd58-eb6c3e50ef60\",\"status\":\"pending\",\"app\":{\"id\":\"0b1c7e99-34fd-4a0f-8d5c-d2012f121e10\",\"name\":\"guarded-temple-4677\"},\"build\":{\"id\":\"7bc35179-ff6e-4c55-a93f-edeb6079911f\",\"status\":\"pending\"}}\n```\n","markers":{"markers":{"1":{"id":1,"range":[[2,0],[2,0]],"tailed":false,"reversed":true,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":14,"goalBufferRange":null,"autoscroll":true},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[{"patches":[{"id":1,"oldParams":{"tailed":true,"range":[[28,10],[28,16]]},"newParams":{"tailed":false,"range":[[28,16],[28,16]]},"deserializer":"MarkerPatch"},{"oldRange":[[28,10],[28,16]],"newRange":[[28,10],[28,11]],"oldText":"builds","newText":"a","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[28,11],[28,11]],"newRange":[[28,11],[28,12]],"oldText":"","newText":"p","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[28,12],[28,12]],"newRange":[[28,12],[28,13]],"oldText":"","newText":"p","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[28,13],[28,13]],"newRange":[[28,13],[28,14]],"oldText":"","newText":"-","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[28,14],[28,14]],"newRange":[[28,14],[28,15]],"oldText":"","newText":"s","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[28,15],[28,15]],"newRange":[[28,15],[28,16]],"oldText":"","newText":"e","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[28,16],[28,16]],"newRange":[[28,16],[28,17]],"oldText":"","newText":"t","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[28,17],[28,17]],"newRange":[[28,17],[28,18]],"oldText":"","newText":"u","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[28,18],[28,18]],"newRange":[[28,18],[28,19]],"oldText":"","newText":"p","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[28,19],[28,19]],"newRange":[[28,19],[28,20]],"oldText":"","newText":"s","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":true,"range":[[38,20],[38,26]]},"newParams":{"tailed":false,"range":[[38,26],[38,26]]},"deserializer":"MarkerPatch"},{"oldRange":[[38,20],[38,26]],"newRange":[[38,20],[38,30]],"oldText":"builds","newText":"app-setups","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"}],"redoStack":[],"deserializer":"History"},"filePath":"/Users/zeke/code/hero/build-and-packaging-team/products/app.json/usage.md","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"4e61355056bd8202d9c9d1c522468bd9d445d500","deserializer":"TextBuffer"}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"items":[{"id":14,"softTabs":true,"displayBuffer":{"id":15,"softWrap":false,"editorWidthInChars":121,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/zeke/code/hero/build-and-packaging-team/products/app.json/usage.md","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"}],"activeItemUri":"/Users/zeke/code/hero/build-and-packaging-team/products/app.json/usage.md","focused":true,"active":true,"deserializer":"Pane"},"deserializer":"PaneContainer"},"fullScreen":false,"deserializer":"Workspace"},"packageStates":{"find-and-replace":{"viewState":{"findHistory":["build"],"replaceHistory":[],"modelState":{"useRegex":false,"inCurrentSelection":false,"caseSensitive":false}}},"fuzzy-finder":{"/Users/zeke/code/hero/build-and-packaging-team/products/app.json/usage.md":1399063359549},"keybinding-resolver":{"attached":false},"metrics":{"sessionLength":1272779},"tree-view":{"directoryExpansionStates":{},"selectedPath":"/Users/zeke/code/hero/build-and-packaging-team/products/app.json/usage.md","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}}}